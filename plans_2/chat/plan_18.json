{
    "execution_plan": [
        {
            "id": 1,
            "description": "Retrieve each chat and the id of every message in that chat (LEFT JOIN to include chats with zero messages). The message ids will be used to count messages per chat in the final aggregation.",
            "database": "postgresql+psycopg://app_chat_user:app_chat_pass@localhost:5439/app_chat",
            "query": "SELECT chats.id AS s1__id, chats.name AS s1__name, messages.id AS s1__message_id FROM chats LEFT JOIN messages ON messages.chat_id = chats.id;",
            "depends_on": [],
            "output_columns": [
                {
                    "alias": "s1__id",
                    "source": "chats.id"
                },
                {
                    "alias": "s1__name",
                    "source": "chats.name"
                },
                {
                    "alias": "s1__message_id",
                    "source": "messages.id"
                }
            ],
            "join_info": null
        }
    ],
    "final_output_columns": [
        "s1__id",
        "s1__name"
    ],
    "final_aggregation": {
        "type": "COUNT",
        "column": "s1__message_id",
        "distinct": false,
        "group_by": [
            "s1__id",
            "s1__name"
        ]
    }
}