{
    "execution_plan": [
        {
            "id": 1,
            "description": "Get the distinct customer IDs that have placed orders from the Orders table.",
            "database": "mysql+pymysql://appuser:apppass@localhost:3308/orders_db",
            "query": "SELECT DISTINCT customer_id FROM Orders;",
            "depends_on": [],
            "join_info": null
        },
        {
            "id": 2,
            "description": "Filter customers in the users database to those who exist in the set of customer IDs that placed orders (returned by step 1). This ensures we count actual customers present in the customers table.",
            "database": "postgresql+psycopg://appuser:root@localhost:5433/users_db",
            "query": "SELECT customer_id FROM customers WHERE customer_id IN ($step1.customer_id);",
            "depends_on": [
                1
            ],
            "join_info": {
                "type": "INNER",
                "on": {
                    "current_step_column": "customer_id",
                    "dependency_step_column": "customer_id"
                }
            }
        }
    ],
    "final_output_columns": [
        "customer_count"
    ],
    "final_aggregation": {
        "type": "COUNT",
        "column": "customer_id"
    }
}